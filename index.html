<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThriveLine - Building Communities That Thrive</title>
    <style>
        /* CSS Variables for Theming */
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f5;
            --bg-tertiary: #e0e0e0;
            --text-primary: #212121;
            --text-secondary: #666666;
            --accent: #2e7d32;
            --accent-hover: #1b5e20;
            --danger: #d32f2f;
            --warning: #f57c00;
            --success: #388e3c;
            --border: #dddddd;
            --shadow: rgba(0,0,0,0.1);
        }

```
    [data-theme="dark"] {
        --bg-primary: #121212;
        --bg-secondary: #1e1e1e;
        --bg-tertiary: #2d2d2d;
        --text-primary: #ffffff;
        --text-secondary: #b0b0b0;
        --accent: #4caf50;
        --accent-hover: #66bb6a;
        --border: #333333;
        --shadow: rgba(0,0,0,0.3);
    }

    [data-theme="high-contrast"] {
        --bg-primary: #000000;
        --bg-secondary: #ffffff;
        --bg-tertiary: #000000;
        --text-primary: #ffffff;
        --text-secondary: #ffff00;
        --accent: #00ff00;
        --accent-hover: #00cc00;
        --border: #ffffff;
        --shadow: none;
    }

    [data-theme="high-contrast-dark"] {
        --bg-primary: #000000;
        --bg-secondary: #1a1a1a;
        --bg-tertiary: #2a2a2a;
        --text-primary: #ffffff;
        --text-secondary: #ffff00;
        --accent: #00ffff;
        --accent-hover: #00cccc;
        --danger: #ff0000;
        --warning: #ffaa00;
        --success: #00ff00;
        --border: #ffffff;
        --shadow: none;
    }

    /* Base Styles */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        line-height: 1.6;
        transition: all 0.3s ease;
    }

    /* Comfort Setup Screen */
    .comfort-setup {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .comfort-card {
        background: var(--bg-secondary);
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 4px 12px var(--shadow);
        max-width: 600px;
        width: 100%;
        text-align: center;
    }

    .comfort-card h1 {
        font-size: 2rem;
        margin-bottom: 10px;
        color: var(--accent);
    }

    .comfort-card p {
        font-size: 1.1rem;
        margin-bottom: 30px;
        color: var(--text-secondary);
    }

    .theme-options {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-bottom: 30px;
        flex-wrap: wrap;
    }

    .theme-btn {
        padding: 15px 25px;
        border: 2px solid var(--border);
        background: var(--bg-tertiary);
        color: var(--text-primary);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 1rem;
    }

    .theme-btn:hover {
        border-color: var(--accent);
        transform: translateY(-2px);
    }

    .theme-btn.active {
        background: var(--accent);
        color: white;
        border-color: var(--accent);
    }

    .font-size-control {
        margin: 30px 0;
    }

    .font-size-control label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
    }

    .font-slider {
        display: flex;
        align-items: center;
        gap: 15px;
        justify-content: center;
    }

    .font-slider input[type="range"] {
        width: 200px;
    }

    .continue-btn {
        background: var(--accent);
        color: white;
        padding: 15px 40px;
        border: none;
        border-radius: 8px;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 20px;
    }

    .continue-btn:hover {
        background: var(--accent-hover);
        transform: translateY(-2px);
    }

    .continue-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    /* Main App Layout */
    .app-container {
        display: none;
        min-height: 100vh;
        background: var(--bg-primary);
    }

    /* Header */
    .header {
        background: var(--bg-secondary);
        padding: 15px 20px;
        border-bottom: 1px solid var(--border);
        position: sticky;
        top: 0;
        z-index: 100;
    }

    .header-content {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 15px;
    }

    .logo {
        font-size: 1.5rem;
        font-weight: bold;
        color: var(--accent);
    }

    .bridge-builder-status {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 8px 16px;
        background: var(--bg-tertiary);
        border-radius: 20px;
    }

    .status-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: var(--success);
        animation: pulse 2s infinite;
    }

    .status-dot.offline {
        background: var(--warning);
        animation: none;
    }

    @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.6; }
        100% { opacity: 1; }
    }

    /* Circles Navigation */
    .circles-nav {
        background: var(--bg-secondary);
        padding: 40px 20px;
        border-bottom: 1px solid var(--border);
    }

    .circles-nav h2 {
        text-align: center;
        color: var(--accent);
        margin-bottom: 30px;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
    }

    .circles-nav p {
        text-align: center;
        color: var(--text-secondary);
        margin-bottom: 30px;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
    }

    .circles-container {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
        gap: 15px;
        justify-items: center;
        padding: 0 20px;
    }
    
    @media (min-width: 768px) and (max-width: 1024px) {
        .circles-container {
            grid-template-columns: repeat(4, 1fr);
            max-width: 600px;
        }
    }

    .circle-btn {
        padding: 10px;
        border: 2px solid var(--border);
        background: var(--bg-primary);
        color: var(--text-primary);
        border-radius: 50%;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.75rem;
        position: relative;
        width: 110px;
        height: 110px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        flex-direction: column;
        line-height: 1.2;
    }

    .circle-btn span.subtitle {
        font-size: 0.65rem;
        color: var(--text-secondary);
        margin-top: 2px;
    }

    .circle-btn:hover {
        border-color: var(--accent);
        transform: translateY(-2px);
    }

    .circle-btn.active {
        background: var(--accent);
        color: white;
        border-color: var(--accent);
    }

    .circle-btn.locked {
        opacity: 0.9;
        cursor: pointer;
    }

    .circle-btn .lock-icon {
        font-size: 0.8rem;
        margin-left: 5px;
    }

    .circle-btn .key-icon {
        font-size: 0.9rem;
        margin-left: 5px;
        color: #FFD700 !important;
        text-shadow: 0 0 3px #FFD700, 0 0 5px rgba(255, 215, 0, 0.8);
        filter: brightness(1.5);
    }
    
    [data-theme="dark"] .circle-btn .key-icon,
    [data-theme="high-contrast-dark"] .circle-btn .key-icon {
        color: #FFD700 !important;
        text-shadow: 0 0 3px #FFD700, 0 0 8px #FFD700;
        filter: brightness(2);
    }

    /* Main Content Area */
    .main-content {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        padding-top: 0;
    }

    .welcome-message {
        background: var(--bg-secondary);
        padding: 30px;
        border-radius: 12px;
        text-align: center;
        margin-bottom: 30px;
    }

    .welcome-message h2 {
        color: var(--accent);
        margin-bottom: 15px;
    }

    /* Crisis Alert */
    .crisis-alert {
        background: var(--warning);
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .crisis-alert .icon {
        font-size: 1.5rem;
    }

    /* Circle Content */
    .circle-content {
        display: none;
        background: var(--bg-secondary);
        padding: 30px;
        border-radius: 12px;
        margin-top: 20px;
    }

    .circle-content.active {
        display: block;
    }

    .circle-header {
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid var(--border);
    }

    .circle-header h3 {
        color: var(--accent);
        margin-bottom: 10px;
    }

    .circle-description {
        color: var(--text-secondary);
    }

    /* Responsive */
    @media (max-width: 768px) {
        .comfort-card {
            padding: 25px;
        }
        
        .theme-options {
            flex-direction: column;
            width: 100%;
        }
        
        .theme-btn {
            width: 100%;
        }
        
        .header-content {
            flex-direction: column;
            text-align: center;
        }
    }
</style>
```

</head>
<body>
    <!-- Comfort Setup Screen -->
    <div class="comfort-setup" id="comfortSetup">
        <div class="comfort-card">
            <h1>Welcome to the ThriveLine Ecosystem</h1>
            <p>Before we even ask your name, let's get you comfortable</p>

```
        <div class="theme-options">
            <button class="theme-btn" onclick="setTheme('light')">☀️ Light Mode</button>
            <button class="theme-btn" onclick="setTheme('dark')">🌙 Dark Mode</button>
            <button class="theme-btn" onclick="setTheme('high-contrast')">👁️ High Contrast</button>
            <button class="theme-btn" onclick="setTheme('high-contrast-dark')">🌑 High Contrast Dark</button>
        </div>
        
        <div class="font-size-control">
            <label for="fontSize">Adjust Text Size</label>
            <div class="font-slider">
                <span>A</span>
                <input type="range" id="fontSize" min="14" max="24" value="16" 
                       oninput="setFontSize(this.value)">
                <span style="font-size: 1.5rem">A</span>
            </div>
        </div>
        
        <p id="comfortCheck" style="display: none; margin-top: 20px;">
            Is the display comfortable for you?
        </p>
        
        <button class="continue-btn" id="continueBtn" disabled onclick="showApp()">
            Yes, continue
        </button>
    </div>
</div>

<!-- Main App -->
<div class="app-container" id="appContainer">
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">ThriveLine</div>
            <div class="bridge-builder-status">
                <span class="status-dot"></span>
                <span id="bridgeBuilderStatus">3 Bridge Builders Active</span>
            </div>
        </div>
    </header>

    <!-- Circles Navigation -->
    <nav class="circles-nav">
        <h2>Welcome to Your ThriveLine Community</h2>
        <p>You're in a safe haven where truth is transformation and support flows freely.</p>
        <div class="circles-container">
            <button class="circle-btn active" onclick="showCircle('general')">
                General<br>Circle
                <span class="subtitle">Nonviolent Challenges</span>
            </button>
            <button class="circle-btn locked" onclick="showCircle('safety')">
                Safety<br>Concerns <span class="key-icon">🗝️</span>
                <span class="subtitle">Request<br>Access</span>
            </button>
            <button class="circle-btn locked" onclick="showCircle('sexual')">
                Sexual<br>Behaviors <span class="key-icon">🗝️</span>
                <span class="subtitle">Request<br>Access</span>
            </button>
            <button class="circle-btn locked" onclick="showCircle('substance')">
                Substance<br>Use <span class="key-icon">🗝️</span>
                <span class="subtitle">Request<br>Access</span>
            </button>
            <button class="circle-btn" onclick="showCircle('superpowers')">
                Superpowers
                <span class="subtitle">Your Child's Unique Gifts</span>
            </button>
            <button class="circle-btn" onclick="showCircle('success')">
                Circle of<br>Hope
                <span class="subtitle">Success Stories</span>
            </button>
            <button class="circle-btn" onclick="showCircle('connection')">
                Community<br>Connection
                <span class="subtitle">Life Beyond Parenting</span>
            </button>
            <button class="circle-btn" onclick="showCircle('research')">
                Research<br>Hub
                <span class="subtitle">Evidence & Change</span>
            </button>
        </div>
        <div style="text-align: center; margin-top: 30px;">
            <button class="continue-btn" style="background: var(--accent); color: white; padding: 10px 30px; font-size: 0.95rem;" onclick="toggleAllDescriptions()">
                View Expanded Circle Descriptions ↓
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
    </main>
</div>

<script>
    // Theme Management
    let themeSelected = false;
    
    function setTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        
        // Update active button
        document.querySelectorAll('.theme-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
        
        // Enable continue button after first theme selection
        if (!themeSelected) {
            themeSelected = true;
            document.getElementById('comfortCheck').style.display = 'block';
            document.getElementById('continueBtn').disabled = false;
        }
    }
    
    function setFontSize(size) {
        document.documentElement.style.fontSize = size + 'px';
        localStorage.setItem('fontSize', size);
    }
    
    function showApp() {
        document.getElementById('comfortSetup').style.display = 'none';
        document.getElementById('appContainer').style.display = 'block';
        
        // Scroll to top of page
        window.scrollTo(0, 0);
        
        // Simulate Bridge Builder status updates
        updateBridgeBuilderStatus();
    }
    
    function showCircle(circleName) {
        // Check if circle is locked
        if (event.target.classList.contains('locked')) {
            alert('Request Access 🗝️\n\nThis circle requires vetting to keep everyone safe. Click OK to share your story and request access.');
            return;
        }
        
        // Update active button
        document.querySelectorAll('.circle-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
    }
    
    function toggleAllDescriptions() {
        const allDescriptions = document.getElementById('all-descriptions');
        if (!allDescriptions) {
            // Create the all descriptions section
            const descriptionsHTML = `
                <div id="all-descriptions" style="max-width: 1200px; margin: 0 auto; padding: 20px;">
                    <h3 style="text-align: center; color: var(--accent); margin-bottom: 30px;">Circle Descriptions & Access Information</h3>
                    
                    <div style="display: grid; gap: 20px; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));">
                        <div class="circle-desc-card">
                            <h4>General Circle</h4>
                            <p><em>Open to all members</em></p>
                            <p>Daily challenges and nonviolent behaviors. Your home base for support in navigating everyday complexities.</p>
                        </div>
                        
                        <div class="circle-desc-card">
                            <h4>Safety Concerns Circle 🗝️</h4>
                            <p><em>Requires vetting</em></p>
                            <p>Physical safety and violence. For families navigating serious safety concerns and physical threats.</p>
                        </div>
                        
                        <div class="circle-desc-card">
                            <h4>Sexual Behaviors Circle 🗝️</h4>
                            <p><em>Requires vetting</em></p>
                            <p>A carefully protected space for families dealing with sexual behavior challenges.</p>
                        </div>
                        
                        <div class="circle-desc-card">
                            <h4>Substance Use Circle 🗝️</h4>
                            <p><em>Requires vetting</em></p>
                            <p>Support for families navigating substance use concerns in the context of safety and complex decisions.</p>
                        </div>
                        
                        <div class="circle-desc-card">
                            <h4>Superpowers</h4>
                            <p><em>Open to all members</em></p>
                            <p>Reframe your child's neurological differences as strengths. Discover how traits like fearlessness, low emotionality, or intense focus can become assets. Find career paths and life directions that work WITH your child's wiring, not against it.</p>
                        </div>
                        
                        <div class="circle-desc-card">
                            <h4>Circle of Hope</h4>
                            <p><em>Open to all members</em></p>
                            <p>Real success stories from real families. Your story could light the way for others.</p>
                        </div>
                        
                        <div class="circle-desc-card">
                            <h4>Community Connection</h4>
                            <p><em>Open to all members</em></p>
                            <p>Remember who you are beyond being a parent. Connect with others as whole human beings - share your passions, dreams, interests, and the parts of yourself that exist outside the crisis. Rediscover yourself while building real friendships.</p>
                        </div>
                        
                        <div class="circle-desc-card">
                            <h4>Research Hub</h4>
                            <p><em>Open to all members</em></p>
                            <p>Read existing research, participate in new studies, and bridge the gap between lived experience and academic understanding. Access peer-reviewed studies, share what researchers are missing, and help shape future research directions.</p>
                        </div>
                    </div>
                </div>
            `;
            
            const mainContent = document.querySelector('.main-content');
            mainContent.insertAdjacentHTML('afterbegin', descriptionsHTML);
            
            // Add styles for the cards
            const style = document.createElement('style');
            style.textContent = `
                .circle-desc-card {
                    background: var(--bg-secondary);
                    padding: 20px;
                    border-radius: 8px;
                    border: 1px solid var(--border);
                }
                .circle-desc-card h4 {
                    color: var(--accent);
                    margin-bottom: 10px;
                }
                .circle-desc-card p {
                    color: var(--text-secondary);
                    margin-bottom: 8px;
                }
            `;
            document.head.appendChild(style);
            
            // Scroll to descriptions
            allDescriptions.scrollIntoView({ behavior: 'smooth' });
            
            // Update button text
            event.target.textContent = 'Hide Circle Descriptions ↑';
        } else {
            // Toggle visibility
            if (allDescriptions.style.display === 'none') {
                allDescriptions.style.display = 'block';
                allDescriptions.scrollIntoView({ behavior: 'smooth' });
                event.target.textContent = 'Hide Circle Descriptions ↑';
            } else {
                allDescriptions.style.display = 'none';
                event.target.textContent = 'View Expanded Circle Descriptions ↓';
            }
        }
    }
    
    function updateBridgeBuilderStatus() {
        const statuses = [
            { count: 3, text: "3 Bridge Builders Active", online: true },
            { count: 1, text: "1 Bridge Builder Active", online: true },
            { count: 0, text: "Bridge Builders Offline - Responses typically within ~6 hours", online: false }
        ];
        
        // Simulate random status (in real app, this would be from server)
        setInterval(() => {
            const status = statuses[Math.floor(Math.random() * statuses.length)];
            const statusEl = document.getElementById('bridgeBuilderStatus');
            const dotEl = document.querySelector('.status-dot');
            
            statusEl.textContent = status.text;
            if (status.online) {
                dotEl.classList.remove('offline');
            } else {
                dotEl.classList.add('offline');
            }
        }, 30000); // Update every 30 seconds
    }
    
    // Load saved preferences
    window.onload = function() {
        const savedTheme = localStorage.getItem('theme');
        const savedFontSize = localStorage.getItem('fontSize');
        
        if (savedTheme) {
            setTheme(savedTheme);
            const themeMap = {
                'light': 1,
                'dark': 2,
                'high-contrast': 3,
                'high-contrast-dark': 4
            };
            const btnIndex = themeMap[savedTheme] || 1;
            document.querySelector(`.theme-btn:nth-child(${btnIndex})`).classList.add('active');
        }
        
        if (savedFontSize) {
            document.getElementById('fontSize').value = savedFontSize;
            setFontSize(savedFontSize);
        }
    }
</script>
```

</body>
</html>